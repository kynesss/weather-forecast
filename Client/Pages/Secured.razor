@page "/secured"
@using BlazorApp.Shared
@inject HttpClient Http

<h1>Azure Function Test</h1>

<h2>@result</h2>

@code {
    private string result = "temp value";
    private WeatherForecast[] forecasts = new WeatherForecast[]{};

    protected override async Task OnInitializedAsync()
    {
        try
        {
            forecasts = await Http.GetFromJsonAsync<WeatherForecast[]>("/api/WeatherForecast") ?? new WeatherForecast[]{};

            result = forecasts[0].Date.ToString();
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex.ToString());
        }
    }

}