@page "/secured"
@using BlazorApp.Shared
@inject HttpClient Http

<h1>Azure Function Test</h1>

<h2>@result</h2>

@code {
    private string result = "temp value";

    protected override async Task OnInitializedAsync()
    {
        try
        {
            HttpContent requestBody = new StringContent("{\"name\": \"John\"}");
            HttpResponseMessage response = await Http.PostAsync("https://salmon-smoke-0fb94ac10.3.azurewebsites.net/api/HelloYou", requestBody);

            result = response.StatusCode.ToString();
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex.ToString());
        }
    }

}